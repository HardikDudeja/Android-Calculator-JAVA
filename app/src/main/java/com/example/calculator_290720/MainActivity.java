package com.example.calculator_290720;import androidx.appcompat.app.AppCompatActivity;import android.os.Bundle;import android.view.View;import android.widget.Button;import android.widget.TextView;import android.widget.Toast;public class MainActivity extends AppCompatActivity {    Button btnZero;    Button btnOne;    Button btnTwo;    Button btnThree;    Button btnFour;    Button btnFive;    Button btnSix;    Button btnSeven;    Button btnEight;    Button btnNine;    Button btnModulus;    Button btnDivide;    Button btnMultiply;    Button btnAdd;    Button btnMinus;    Button btnEqual;    Button btnPoint;    Button btnClear;    TextView tvResult;    String prev = null;    String current = null;    Integer length = null;    Character operator = null;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_main);        btnZero = findViewById(R.id.btnZero);        btnOne = findViewById(R.id.btnOne);        btnTwo = findViewById(R.id.btnTwo);        btnThree = findViewById(R.id.btnThree);        btnFour = findViewById(R.id.btnFour);        btnFive = findViewById(R.id.btnFive);        btnSix = findViewById(R.id.btnSix);        btnSeven = findViewById(R.id.btnSeven);        btnEight = findViewById(R.id.btnEight);        btnNine = findViewById(R.id.btnNine);        btnModulus = findViewById(R.id.btnModulus);        btnDivide = findViewById(R.id.btnDivide);        btnMultiply = findViewById(R.id.btnMultiply);        btnAdd = findViewById(R.id.btnAdd);        btnMinus = findViewById(R.id.btnMinus);        btnEqual = findViewById(R.id.btnEqual);        btnPoint = findViewById(R.id.btnPoint);        btnClear = findViewById(R.id.btnClear);        tvResult = findViewById(R.id.tvResult);        btnZero.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                tvResult.append("0");            }        });        btnOne.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                tvResult.append("1");            }        });        btnTwo.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                tvResult.append("2");            }        });        btnThree.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                tvResult.append("3");            }        });        btnFour.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                tvResult.append("4");            }        });        btnFive.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                tvResult.append("5");            }        });        btnSix.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                tvResult.append("6");            }        });        btnSeven.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                tvResult.append("7");            }        });        btnEight.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                tvResult.append("8");            }        });        btnNine.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                tvResult.append("9");            }        });        btnPoint.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                tvResult.append(".");            }        });        btnAdd.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                if(!tvResult.getText().toString().equals("")) {                    if (prev == null) {  // this condition is to check if no previous value is there                        prev = tvResult.getText().toString();                        operator = '+';                        tvResult.append("+");                        length = tvResult.getText().toString().length();                    } else {  // we complete the previous calculation and display it                        char ch = tvResult.getText().toString().charAt(length-1);                        if(ch == '+'){                            tvResult.setText(prev);                            tvResult.append("+");                        }                        current = tvResult.getText().toString().substring(length);                        float x1 = Float.parseFloat(prev);                        float x2 = Float.parseFloat(current);                        if (operator == '+') {                            prev = String.valueOf(x1 + x2);                        } else if (operator == 'X') {                            prev = String.valueOf(x1 * x2);                        } else if (operator == '-') {                            prev = String.valueOf(x1 - x2);                        } else if (operator == '/') {                            prev = String.valueOf(x1 / x2);                        }                        current = null;                        tvResult.setText(prev);                        tvResult.append("+");                        length = tvResult.getText().toString().length();                        operator = '+';                    }                }            }        });        btnMultiply.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                if(!tvResult.getText().toString().equals("")) {                    if (prev == null) {                        prev = tvResult.getText().toString();                        operator = 'X';                        tvResult.append("X");                        length = tvResult.getText().toString().length();                    }                    else {                        current = tvResult.getText().toString().substring(length);                        float x1 = Float.parseFloat(prev);                        float x2 = Float.parseFloat(current);                        if (operator == '+') {                            prev = String.valueOf(x1 + x2);                        } else if (operator == 'X') {                            prev = String.valueOf(x1 * x2);                        } else if (operator == '-') {                            prev = String.valueOf(x1 - x2);                        } else if (operator == '/') {                            prev = String.valueOf(x1 / x2);                        }                        current = null;                        tvResult.setText(prev);                        tvResult.append("X");                        length = tvResult.getText().toString().length();                        operator = 'X';                    }                }            }        });        btnMinus.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                if(!tvResult.getText().toString().equals("")) {                    if (prev == null) {                        prev = tvResult.getText().toString();                        operator = '-';                        tvResult.append("-");                        length = tvResult.getText().toString().length();                    } else {                        current = tvResult.getText().toString().substring(length);                        float x1 = Float.parseFloat(prev);                        float x2 = Float.parseFloat(current);                        if (operator == '+') {                            prev = String.valueOf(x1 + x2);                        } else if (operator == 'X') {                            prev = String.valueOf(x1 * x2);                        } else if (operator == '-') {                            prev = String.valueOf(x1 - x2);                        } else if (operator == '/') {                            prev = String.valueOf(x1 / x2);                        }                        current = null;                        tvResult.setText(prev);                        tvResult.append("-");                        length = tvResult.getText().toString().length();                        operator = '-';                    }                }            }        });        btnDivide.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                if(!tvResult.getText().toString().equals("")) {                    if (prev == null) {                        prev = tvResult.getText().toString();                        operator = '/';                        tvResult.append("รท");                        length = tvResult.getText().toString().length();                    } else {                        current = tvResult.getText().toString().substring(length);                        float x1 = Float.parseFloat(prev);                        float x2 = Float.parseFloat(current);                        if (operator == '+') {                            prev = String.valueOf(x1 + x2);                        } else if (operator == 'X') {                            prev = String.valueOf(x1 * x2);                        } else if (operator == '-') {                            prev = String.valueOf(x1 - x2);                        } else if (operator == '/') {                            prev = String.valueOf(x1 / x2);                        }                        current = null;                        tvResult.setText(prev);                        tvResult.append("รท");                        length = tvResult.getText().toString().length();                        operator = '/';                    }                }            }        });        btnEqual.setOnClickListener(new View.OnClickListener() {            @Override            public void onClick(View view) {                if(!tvResult.getText().toString().equals("") && operator!=null) {                    current = tvResult.getText().toString().substring(length);                    if (prev != null && current.length() != 0) {                        float x1 = Float.parseFloat(prev);                        float x2 = Float.parseFloat(current);                        if (operator == '+') {                            prev = String.valueOf(x1 + x2);                        } else if (operator == 'X') {                            prev = String.valueOf(x1 * x2);                        } else if (operator == '-') {                            prev = String.valueOf(x1 - x2);                        } else if (operator == '/') {                            prev = String.valueOf(x1 / x2);                        }                        tvResult.setText("");                        tvResult.setHint(prev);                        prev = null;                        operator = null;                        current = null;                        length = null;                    }                }            }        });        btnClear.setOnClickListener(new View.OnClickListener() {  // all the parameters are set to default null value            @Override            public void onClick(View view) {                tvResult.setText("");                prev = null;                current = null;                operator = null;                length = null;                tvResult.setHint("");            }        });    }}